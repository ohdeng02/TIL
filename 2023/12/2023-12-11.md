# 골드이미지, hashicorp
## (1) 모놀리틱 vs msa

- 모놀리틱: API기반
- msa: 단일 책임 원칙, 독립적인 배포, 느슨한 결합, 높은 유지성, 테스트 가능성, 목적형 조직(db, 인프라, 개발자 별로 팀을 나누는게 아니라 구현하는 기능별로 팀 구성 ↔ 기능형 조직)
- 넷플릭스의 ‘지금 뜨는 컨텐츠’ ,‘시청중 컨텐츠’ 등은 다 개별 서비스. 응답 빠른 서비스 순으로 출력됨.

## (2) 클라우드 네이티브

- two pizza team: 소규모 인원으로 msa의 한가지 서비스를 충분히 수행할 수 있는 하나의 팀.
- SRE(자동 모니터링, 테스트? 등 관리 시스템)
- 클라우드 시스템은 가성비가 높고 짧은 시간동안 빌려서 일시적으로 사용할 수도 있다는 장점.

## (3) 클라우드 골드이미지

- msa의 경우 유지보수할 때 신경써야 할 부분이 많아지고 관리하기가 힘들다.
- 골든이미지: OS 영역을 포함해 필수 패키지, 보안 설정 등이 적용된 일종의 "정형화 된 이미지"

[골든 이미지 관리를 위한 Image Builder (1)](https://junhyeong-jang.tistory.com/32)

- ex. 윈도우 불법다운로드할 때 office까지 포함해서 번들형태의 패키지도 골드이미지에 해당.
- 각 회사에는 표준 솔루션들이 존재. 멀티클라우드 환경의 대표적 솔루션→Packer
- Packer: 가상이미지를 생성해놓으면 aws이미지, azure이미지 등으로 변환이 가능
- 골든이미지를 다운스트림하여 변경할 경우, 전체 서비스 업데이트가 자동으로 실행됨. (버전 자동 업데이트)

## (4) hashicorp

- ami 사전처리 방법 / ansible 사후처리 방법 → **AMI**가 무엇인지 더 정확히 배워바야 할 것 같음.
- packer → plugin / source / build 세 부분으로 나뉘어짐.
- snapshot의 경우 ec2에서 뜨면 azure와 같은 다른 클라우드에서 사용불가하지만, packer를 사용할 때는 호환성이 가장 큰 장점임.
